<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../assets/css/maquina.css">
    <link rel="website icon" href="../assets/icon/owl.svg" />
</head>

<body onload="mostrarElemento('elementoCPU')">
    <nav class="menu-lateral" id="menuLateral">
        <div class="botao-menu" onclick="botaoMenu()">
            <img src="../assets/img/menu-hamburguer.png" alt="">
        </div>

        <div class="usuario">
            <h4 id="nomeDaEmpresa"></h4>
            <img src="../assets/img/usuario.png" alt="">
            <h4 id="nomeDoUsuario"></h4>
        </div>

        <ul>
            <li class="item-menu">
                <a href="./dashboard.html">
                    <span class="icone"><i class="bi bi-bar-chart-fill"></i></span>
                    <span class="texto">Computadores</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="../cadastroNovoFunc.html">
                    <span class="icone"><i class="bi bi-person-add"></i></span>
                    <span class="texto">Configuração</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="https://howlz.atlassian.net/servicedesk/customer/portal/1">
                    <span class="icone"><i class="bi bi-person-gear"></i></span>
                    <span class="texto">Suporte</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="../login.html">
                    <span class="icone"><i class="bi bi-box-arrow-in-right"></i></span>
                    <span class="texto" onclick="limparSessao()">Sair</span>
                </a>
            </li>

        </ul>


    </nav>

    <div class="conteudo">
        <div class="titulo">
            <h2>Máquina</h2>
        </div>
        <div class="paths">
            <a href="dashboard.html"> Voltar</a>
            <a href="janelas.html">Janelas</a>
            <a href="logs.html">Logs</a>
        </div>

        <div class="dashboard">

            <div class="botoesGraph">

                <div class="CPU" id="elementoCPU">
                    <canvas id="0" width="600" height="300"></canvas>
                </div>

                <div id="RAM" class="elementoRAM">
                    <canvas id="1" width="600" height="300"></canvas>
                </div>

                <div id="Disco" class="elementoDisco">
                    <canvas id="2" width="600" height="300"></canvas>
                </div>

                <div id="GPU" class="elementoGPU">
                    <canvas id="3" width="600" height="300"></canvas>
                </div>


                <div class="botoes">
                    <button onclick="mostrarElemento('elementoCPU')">CPU</button>
                    <button onclick="mostrarElemento('RAM')">RAM</button>
                    <button onclick="mostrarElemento('Disco')">Disco</button>
                    <button onclick="mostrarElemento('GPU')">GPU</button>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>


        //PARA OS GRAFICOS CPU
        var ctx = document.getElementById('0').getContext('2d');

        var data = {
            labels: [], //dados de horario
            datasets: [{
                label: 'CPU',
                data: [], //dados de %
                backgroundColor: 'rgba(123, 11, 192, 0.514)',
                borderColor: 'rgb(122, 11, 192)',
                fill: true,
                hoverBorderWidth: 10,
                borderWidth: 3
            }]
        };

        var options = {
            responsive: true,
            maintainAspectRatio: false,
            title: {
                display: true,
            },
            plugins: {
                legend: {
                    labels: {
                        font: {
                            family: 'Poppins'
                        }
                    }
                }
            },
            defaultFontFamily: 'Poppins'
        };

        var myLineChart = new Chart(ctx, {
            type: 'line',
            data: data,
            options: options
        });

        //GRAFICO DA RAM

        var ctxRAM = document.getElementById('1').getContext('2d');

        var dataRAM = {
            labels: [], //dados de horário
            datasets: [{
                label: 'RAM',
                data: [], //dados de %
                backgroundColor: 'rgba(123, 11, 192, 0.514)',
                borderColor: 'rgb(122, 11, 192)',
                fill: true,
                hoverBorderWidth: 10,
                borderWidth: 3
            }]
        };

        var optionsRAM = {
            responsive: true,
            maintainAspectRatio: false,
            title: {
                display: true,
            },
            plugins: {
                legend: {
                    labels: {
                        font: {
                            family: 'Poppins'
                        }
                    }
                }
            },
            defaultFontFamily: 'Poppins'
        };

        var myLineChartRAM = new Chart(ctxRAM, {
            type: 'line',
            data: dataRAM,
            options: optionsRAM
        });


        //GRAFICO DO DISCO
        var ctxDisco = document.getElementById('2').getContext('2d');

        var dataDisco = {
            labels: [], //dados de horário
            datasets: [{
                label: 'Disco',
                data: [], //dados de %
                backgroundColor: 'rgba(123, 11, 192, 0.514)',
                borderColor: 'rgb(122, 11, 192)',
                fill: true,
                hoverBorderWidth: 10,
                borderWidth: 3
            }]
        };

        var optionsDisco = {
            responsive: true,
            maintainAspectRatio: false,
            title: {
                display: true,
            },
            plugins: {
                legend: {
                    labels: {
                        font: {
                            family: 'Poppins'
                        }
                    }
                }
            },
            defaultFontFamily: 'Poppins'
        };

        var myLineChartDisco = new Chart(ctxDisco, {
            type: 'line',
            data: dataDisco,
            options: optionsDisco
        });


        //GRAFICO DA GPU
        var ctxGPU = document.getElementById('3').getContext('2d');

        var dataGPU = {
            labels: [], //dados de horário
            datasets: [{
                label: 'GPU',
                data: [], //dados de %
                backgroundColor: 'rgba(123, 11, 192, 0.514)',
                borderColor: 'rgb(122, 11, 192)',
                fill: true,
                hoverBorderWidth: 10,
                borderWidth: 3
            }]
        };

        var optionsGPU = {
            responsive: true,
            maintainAspectRatio: false,
            title: {
                display: true,
            },
            plugins: {
                legend: {
                    labels: {
                        font: {
                            family: 'Poppins'
                        }
                    }
                }
            },
            defaultFontFamily: 'Poppins'
        };

        var myLineChartGPU = new Chart(ctxGPU, {
            type: 'line',
            data: dataGPU,
            options: optionsGPU
        });


        //PARA FAZER MENU HAMBURGUER
        function botaoMenu() {
            var menuLateral = document.getElementById("menuLateral");
            var botaoMenuImg = document.getElementById("botaoMenuImg");

            menuLateral.classList.toggle("ver-menu");
            botaoMenuImg.style.display = menuLateral.classList.contains("ver-menu") ? "none" : "block";

            var content = document.querySelector(".content");
            content.classList.toggle("content-shift");
        }

        //PARA PUXAR DADO DO USUARIO
        var nomeDaEmpresa = sessionStorage.getItem("NOME_EMPRESA");
        document.getElementById("nomeDaEmpresa").innerHTML = nomeDaEmpresa;

        var nomeDoUsuario = sessionStorage.getItem("NOME_USUARIO");
        document.getElementById("nomeDoUsuario").innerHTML = nomeDoUsuario;

        function limparSessao() {

            sessionStorage.clear();

            window.location = "/login";
        }

        //PARA MUDAR OS ELEMENTOS
        function mostrarElemento(elementoID) {
            var elementos = ["elementoCPU", "RAM", "Disco", "GPU"];
            elementos.forEach(function (elemento) {
                var elementoAtual = document.getElementById(elemento);
                if (elementoAtual) {
                    elementoAtual.style.display = 'none';
                }
            });

            var elementoSelecionado = document.getElementById(elementoID);
            if (elementoSelecionado) {
                elementoSelecionado.style.display = 'block';
            }
        }

    </script>
</body>

</html>